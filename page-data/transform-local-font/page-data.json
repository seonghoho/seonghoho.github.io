{"componentChunkName":"component---src-templates-article-template-tsx","path":"/transform-local-font/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>개요</h2>\n<p>기존 github.io 블로그에는 <code class=\"language-text\">@emotion</code>을 사용해 프로젝트에 style을 적용하고 있다.</p>\n<p>성능 최적화를 위해 많은 SSR 방식의 Gatsby를 사용하고 있다.</p>\n<p>F12를 눌러 <code class=\"language-text\">개발자도구</code>에 접근을 하게 되면 크롬 브라우저에서 <code class=\"language-text\">LightHouse</code>를 확장자 설치를 해서 페이지 분석을 할 수 있다.</p>\n<p>페이지를 분석해 보았는데, 아래 화면처럼 Font 관련 문제가 발생하는 것을 발견했다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 692px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.96875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC3klEQVR42nVU2XLbMAz0Y+N8QWdiHbZE3ad1OU4c27na//+g7QK0MkqnfdiBSIkLLLDUqnJ/YuN48H2f2OFh84D1/T3W6zV+3K1xR6wXkPXd+v9YCZHreXAcB67rEo7C4d6x8hFWAX5OKTZ9gk0b4+Exhbf14fH9DH/xvArCAHWeo6kb1E2jsSgKVEmC16HC2BSI6tyiymCaHHEcf4OJDJI0gTEGqzAI0GQ52naPpm3RNC1ySRCGqEODhu/j3Q7BdouQURAQhoUEfCckURQhSW6EshmlEbIsRVVWSqaETJCz0qzt0UxPKLuJ8RlV/4hqOKLtBqqpEUdCaJQwZBErf+vhPP7GUD8hyWISZ0oosnN5LpikJnnJVjBmGqmiKLlXIak7RHnNakNLuN356Ksj8pib4U7LNia6RaMfibyQ0CgyZc+E/J7V5QXirPg6o5KFyPUcnfQ8bceZJ+7+Ew4hSTxGSVCyYiXcscElS993Pad8G4rIYeY8Ly0Ki2IJnun6Ae2+036P46TDIeFWp/vx8Qtv7584vZwxHR5xIKYFxvGAfhgx8KDEpu1wub4TV5zOF3x8flpCKznUKemUZRisQGxU05MtkwlEUpqmOjDxnsiOIuvDkL0s8sJKluY2VWmnyo+z1KCkjYrU2mEejmRfIl6u+V7cIeQrmVxbpuxdo9WVCdc5TZ3Zqe6oQPqsoDV0rTH8sopc3zmxSo7jRCVLloSyMt6cJMl0LVJEapryeT+h6A8oOmvuvGpV2Za3aL419qawbNl0PZcXfIa3iDe4t3euhXhSzkmVkvyL0FaQapXSB9ubv+N3iJGlRUmSqo36vreEkmFPL729f+B8fcXz6YW2mOjLgT4b1WsSxSqyP0PsI99fLlccn0545Xkdiu1hrNYYeajrOiZo6UPrt4kHp3G01ilLWqlWN0gh0j+xU0wV3X7/vYfSByvFTkulm6XE272+RZm6vef2Wf+LxuAPLgkxxFXl/YUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/00289d8d7065bfe78058190a8a7bf017/4fae8/light-house.webp 256w,\n/static/00289d8d7065bfe78058190a8a7bf017/2bf0f/light-house.webp 512w,\n/static/00289d8d7065bfe78058190a8a7bf017/6bb63/light-house.webp 692w\"\n              sizes=\"(max-width: 692px) 100vw, 692px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/00289d8d7065bfe78058190a8a7bf017/e3135/light-house.png 256w,\n/static/00289d8d7065bfe78058190a8a7bf017/06341/light-house.png 512w,\n/static/00289d8d7065bfe78058190a8a7bf017/51c99/light-house.png 692w\"\n            sizes=\"(max-width: 692px) 100vw, 692px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/00289d8d7065bfe78058190a8a7bf017/51c99/light-house.png\"\n            alt=\"light-house\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">light-house</figcaption>\n  </figure></p>\n<h2>문제점</h2>\n<p>Font를 Global Style에 적용할 때 웹폰트를 사용해서 적용한 부분에서 불필요한 코드 호출이 발생하는 것으로 파악했다.</p>\n<p>이전에 진행한 프로젝트들에서 font 파일을 woff2 파일로 다운받아 프로젝트 로컬 서버에 위치시킨 후 불러오는 방식으로 사용한 경험이 있다.</p>\n<p>url로 불러오던 웹 폰트를 local 파일을 불러오는 방식으로 바꾸면 해결이 될 것이라 판단했다.</p>\n<h2>해결방법</h2>\n<h3>1. 사용하고자 하는 Font를 설치한다.</h3>\n<p>보통 눈누, 구글 폰트에서 선택해 사용한다.</p>\n<p><a href=\"https://noonnu.cc/font_page/34\" target=\"_blank\" rel=\"nofollow\">Noto Sans Kr 눈누 바로가기</a></p>\n<p><a href=\"https://fonts.google.com/noto/specimen/Noto+Sans+KR\" target=\"_blank\" rel=\"nofollow\">Noto Sans Kr 구글 폰트 바로가기</a></p>\n<h3>2. Font 파일을 프로젝트에 fonts 라는 디렉토리를 생성해서 추가한다.</h3>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 256px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 138.671875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAD40lEQVR42pVV2XLbRhD0L1gUTxx7AIvFSQAiKfEQJTqOU5U8pCpVeUpSfki+Ig/59vbMULJMi4yTh+ESS7DRM929eDMLZjCxQbQ0UCsDWzmEOsJ0OsVsNvu8TiaT8zWegDHiVMt9b6b0YUKF6Vrj7UJBlw7j2QiDqwGur6+PNRhgPB5fBGSM0KgjIN8YxQpl4vD3byUWTYLl7Q4Pjw/YbLa4v9/i3eEAYwxGo9FFpuPR+AjIF9yWNho/bDRuCNDnJZr5HGVZwbkUuc8RhuFllgw4+QKQK4gMVvMEH38sUbU9Hh/3wi6g+Vy9vbo8w2fA8VeAYRAizz2W6zWsTVARu6au4b2HUupf2Z0BnCKKQvSrDX75/S+4LMNytcb2jma429ODMprfUO77zwwDUvqm0vj5waEo57i9XSBNU1H7W+zOtxzFmBcGH7YliVJhtVrApU5sM/4G2BlAso6yuGtT/PFTi7rpsLvf4XB4h/eHR6g4+n8zFGOSLbrCoifbqIysU+XUsiOWqSg9mdIfyV4v68s8JU1h8KWxNZoiwz9//opmUSPZ1UhXHsPBtcxwdD06qTHXcHQSPZWZ0xlyCjzZxmceQRpDV8Q0t1DeyqrL5FjUhZI1oc6IJRHilfN/AjgcDmGTBE3TQDUpsk0Nd0tJWZVwS1qXBbGu4NcVsm2DpM+lVZkdMdT04FNA8plzTgDjOkFKAEnvkXS5FAPaG7peerhNBUMPHT21Pb3UstZakhFlGslNDttmVF6K2zV1CtvTXucR0z18ILBILGpk1enhwC0zWNd10J1D/tBKa9m6pvYb+C0LVcpeeehQfteh+tDD3ZWisCnSU4Y8C84spyNIYigafuyNzEbRqnJDrKi8lt/kd2LJNQtnCFR0jmF2wtATG795qjWLRCm6b2iGDarvO/h9i+p9jzAOoPPk9QyttXQQ5IiIjZk7mZmujsXzjFIl+zLbJhO78Bx5hnGiXgNyu03dIKJMZ2SPZFGQuqWU5QdQ5Y8tUto39BAxOAPKO8WcB6yrmnyYCCB7MP0MWoiVWCS2DfvQ7+eIqZspHWs6t68B+b2Rk9IhJYV9Jlap0peEUMkYGidJ4TTNokA0CE38WpQsexKlpdb2bJtaGLEoGbFy9L049LR/TEtO15PRU1KK5LyxM5eJsTmvUvkxy8yULfIskKE0MeOQDM0zjGz8OsvMsO96xDRDZujuOLtsbrLKqpCE+O0cnk4jFofNndK+nDbenmfoiCEP2nbEQpg4sYiozN8p35ayrcnsrPLkkm2YIR8ObdsirizNqxJVReklq00gpUVKJxArH7unN+H0+XA4MvwEsT4KLG0WhD0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0303979f5f18fdadb12e4a034bc36856/4fae8/vscode-fonts.webp 256w\"\n              sizes=\"(max-width: 256px) 100vw, 256px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0303979f5f18fdadb12e4a034bc36856/e3135/vscode-fonts.png 256w\"\n            sizes=\"(max-width: 256px) 100vw, 256px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0303979f5f18fdadb12e4a034bc36856/e3135/vscode-fonts.png\"\n            alt=\"vscode-fonts\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">vscode-fonts</figcaption>\n  </figure></p>\n<p>위 사진처럼 추가하면 된다.</p>\n<h3>3. Font를 적용한 Global Style 위치에 코드를 적용한다.</h3>\n<p>아래는 기존 글로벌 스타일</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> FunctionComponent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> css<span class=\"token punctuation\">,</span> Global <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@emotion/react'</span>\n\n<span class=\"token keyword\">const</span> defaultStyle <span class=\"token operator\">=</span> css<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&amp;display=swap');\n\n  * {\n    font-family:\n      'Noto Sans KR',\n      system-ui,\n      -apple-system,\n      BlinkMacSystemFont,\n      'Segoe UI',\n      Roboto,\n      Oxygen,\n      Ubuntu,\n      Cantarell,\n      'Open Sans',\n      'Helvetica Neue',\n      sans-serif;\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token keyword\">const</span> GlobalStyle<span class=\"token operator\">:</span> <span class=\"token function-variable function\">FunctionComponent</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>Global styles<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>defaultStyle<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> GlobalStyle</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">@<span class=\"token keyword\">import</span> <span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&amp;display=swap'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>이 부분 대신 아래 font-face를 넣는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 폰트 파일 import</span>\n<span class=\"token keyword\">import</span> NotoSansKRThin <span class=\"token keyword\">from</span> <span class=\"token string\">'../../fonts/NotoSansKR-Thin.ttf'</span>\n\n<span class=\"token keyword\">const</span> defaultStyle <span class=\"token operator\">=</span> css`\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">font</span></span><span class=\"token operator\">-</span>face <span class=\"token punctuation\">{</span>\n    font<span class=\"token operator\">-</span>family<span class=\"token operator\">:</span> <span class=\"token string\">'Noto Sans KR'</span><span class=\"token punctuation\">;</span>\n    src<span class=\"token operator\">:</span> <span class=\"token function\">url</span><span class=\"token punctuation\">(</span>$<span class=\"token punctuation\">{</span>NotoSansKRThin<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'truetype'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    font<span class=\"token operator\">-</span>weight<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n    font<span class=\"token operator\">-</span>style<span class=\"token operator\">:</span> normal<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<h3>포인트</h3>\n<p><code class=\"language-text\">@font-face</code>를 적용하는 부분이 포인트다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  @font-face {\n    font-family: 'Noto Sans KR';\n    src: url(${NotoSansKRBlack}) format('truetype');\n    font-weight: 900;\n    font-style: normal;\n  }</code></pre></div>\n<h2>또 다시 문제 발생..🚨🚨🚨</h2>\n<p>다시 배포하고 light house를 확인했는데,,,</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 655px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 109.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADnUlEQVR42n1UTYscVRQtJuNMN+hEGQNjerpeva/67K7uqurP6e6ZEKKOQsgYNyoZQhbZZBcUBUlcZaeuA25cDCialQySuHItgiD+Cn/F8b5X1bE73bo4vKr3cd659577nCHfQ9P1wBiDxzi4ENi5uIONzRq2anXUX6oRtlEz3xe2Ud+qobZds99mrlZfhiMFhyASSRBzcI5pJhFpD5eHMfbHMZgSaFxpw019uIlG42oK5gsSQUI87zkcjw7zCobIJZUHRHb7LYVBrrF7vcDeewWaeYjdWyNcJqLGNMFrtwZoZgEERcfFvxwOXyA0YMxDGmu8OcvA6fbkoEAyzqGkRPH2DFG3hTBNcHjzGNrXVtXi+RVCq9SkQPl2c6A0fIKZi/2QUiMRhxGOJjNopVYJxWLuKnjcjCXx4iU2PUrCI7Wu+ZaKoEsIZfcsKTQ55B5HJzJF4nT7qnruMkhKhfQYhOfSfoNmOb4YsiHIYoGbRxonh9oWaImMFDQnORqTEd7oU4GKQyrMVTTbx2DhkY3KmStjdHjYkbhSKLwzVvjomo9WKOy8raJR60tsnX+MV38/Q+Ppz7j0za+48NlvcO78jd3jXyjfrCKkA/sux1GvJDqZKXxIow2bl4SC8uoRYf3pXYwef47u6UPsPPgWG4+ewbn3F14/eUKEXhVylasmqZkWGu9OQ0Rk2sWQS0KOl/+4i/d/+BH3Tx9gdvYTNh6fw3n4Jy6dPkGoqpCNx6QNi0H5AbJiSGTMzimyhqT1MmSBV85v4OKzT6C++wLs7CtsPvoam59+j70PvkQgK9tEcYI07yMfTtDpjWg8QKcYoNsbI+1m8K2BK7UB5TWiFNG4TxYSmixjQF61VTbG1IS43YEfp8izlMh70FELftZFEMXLlaaeFuQ7RQaXxtiyBDMpMb1swkmjCIGmBebaB0Eb89K3RyFqrV8weFX1Oar5IAjtXsfkLyRC43pRgduOkbYQ8y4R1chovzA5N+NCd4VhSKnxiVB4yBIfk0GOyaiPLMvKIiwa3hSOwsmiENcGAwyLAr1eDyGpmvfy8+fL/GjKSzdRFLas+nhNf1N4gRQYkvKgUrlun6Op1HkaYDYe4HAyQD9vr/YvVZhpAdVJkE9HyHqkcNC3Ya68NsYOikhHbQ/9pOzldTcLY5tQoTmK4FFEnIjWKjSLsh0hy+khbbXsA7vujZwrFYz/9/r8tRG+gj9sQbfoSf8/Qr5slXWE/wBXXohXuiwbugAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/938d0e02a7d83a4245c8573b05dbffcd/4fae8/light-house-2.webp 256w,\n/static/938d0e02a7d83a4245c8573b05dbffcd/2bf0f/light-house-2.webp 512w,\n/static/938d0e02a7d83a4245c8573b05dbffcd/ff18e/light-house-2.webp 655w\"\n              sizes=\"(max-width: 655px) 100vw, 655px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/938d0e02a7d83a4245c8573b05dbffcd/e3135/light-house-2.png 256w,\n/static/938d0e02a7d83a4245c8573b05dbffcd/06341/light-house-2.png 512w,\n/static/938d0e02a7d83a4245c8573b05dbffcd/2728a/light-house-2.png 655w\"\n            sizes=\"(max-width: 655px) 100vw, 655px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/938d0e02a7d83a4245c8573b05dbffcd/2728a/light-house-2.png\"\n            alt=\"light-house-2\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">light-house-2</figcaption>\n  </figure></p>\n<p>아.. 변경 전에는 88점이었는데,, 73점으로 하락했다..</p>\n<p>원인을 파악해서 다시 수정해보자..ㅋㅋ</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 633px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 108.203125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACq0lEQVR42pVV2W7bMBDUdzROfMkSL5HUrRxoCwdIgl7oU///T6azVJQEBeK4DwNKNDXcndldZ03QmKYJdR3RtR3apkXTdKhjja7je9tiGgeossRut8N+v38XeZ4jU8UO2hhopWCthVIaSisYbWCNRVmqRLRer3F1dXUScibTxZZEDpWtEGNE5Sq4yiEEj4YwJL+4+ITVavUhhDTztkTX90yzYZoRPdMUqLJA0Bv0VY7BF1DFAfv8gMPhHxQF1yKtBZG1wSQNp3FCP/SJvBsGXHOv63p4W6B2B7QVVz7nb0mpWb7fcY8aUhZL6TKJpKo8fFXBcMNojcrznbDOweqSeyWcKWEVo6A5RVGilIi0hfYNlItpNZQrM7HD+PURcZjSrXKw5EcJNKqkSWJMISCR4p5AK/5uHEzsSVZDh5aEHpk4uN1u37h1+eLYer2s70DOX66w4fN+t+XF1FBu9z4kpy2dtj6m0HUqHz2X0QmUPON4vq6bJFUWQo3Hp+84Hu/x5fiI448/+Hz/DcN4jWG6wXR9exo3d3h4eMLPX79xc3uHTCpcDJCyiSHyNpvMqWiSFPqpzhCIZIYN0DR1+jZp2LDdpmlE33cs6JjIQgg84JK+p7DZbFI1jGPP79xMKB/GGOZSYVSaukiUsp5DKFp7LxmZmTCwQzpG19Q169EnMrnkXMKUch1fU5YUa5JJmnKLEC2RnkOoXyIkoWyK5XOrsY/7IZH75275iDSlzPKRtn3RUJj9YoSdU10gM+6jKMVty3RfNJSxlaLjMBDtFixlczLC7YYDIudgbpJ0idBz7vkgw0HPdWjnWlxSOidCmZ/OPpsiWo0cWdJCQio3yd7S5+cQes8hzaxSpyyFHFiL8t8i/X1OZAvmWravEYpWMhOdREbI5P1fQpFITPkLXIGGH0noQiQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c585ad90838604d07a4b4c1a7a833a58/4fae8/problem.webp 256w,\n/static/c585ad90838604d07a4b4c1a7a833a58/2bf0f/problem.webp 512w,\n/static/c585ad90838604d07a4b4c1a7a833a58/bdabb/problem.webp 633w\"\n              sizes=\"(max-width: 633px) 100vw, 633px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c585ad90838604d07a4b4c1a7a833a58/e3135/problem.png 256w,\n/static/c585ad90838604d07a4b4c1a7a833a58/06341/problem.png 512w,\n/static/c585ad90838604d07a4b4c1a7a833a58/a855c/problem.png 633w\"\n            sizes=\"(max-width: 633px) 100vw, 633px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c585ad90838604d07a4b4c1a7a833a58/a855c/problem.png\"\n            alt=\"problem\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">problem</figcaption>\n  </figure></p>\n<p>이 두 부분이 문제인 것 같다.</p>\n<ol>\n<li>\n<p>Font 로딩이 완료되기 전, 기본 Font로 미리 보여줬다가 변경하도록 하는 로직을 추가하자.</p>\n</li>\n<li>\n<p>NotoSansKR ttf 파일의 크기가 5MB가 넘는다. 용량을 줄이는 방법을 찾아보자.</p>\n</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">font</span></span><span class=\"token operator\">-</span>face <span class=\"token punctuation\">{</span>\n    font<span class=\"token operator\">-</span>family<span class=\"token operator\">:</span> <span class=\"token string\">'Pretendard'</span><span class=\"token punctuation\">;</span>\n    src<span class=\"token operator\">:</span> <span class=\"token function\">url</span><span class=\"token punctuation\">(</span>$<span class=\"token punctuation\">{</span>PretendardThin<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">'woff2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    font<span class=\"token operator\">-</span>weight<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n    font<span class=\"token operator\">-</span>style<span class=\"token operator\">:</span> normal<span class=\"token punctuation\">;</span>\n    font<span class=\"token operator\">-</span>display<span class=\"token operator\">:</span> swap<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">font-display: swap;</code>  이 코드를 작성하면 기본 폰트 먼저 보여주다가 로딩 끝나면 변경된다.</p>\n<p>그리고 파일 크기가 작은 <code class=\"language-text\">pretendard woff2</code> 파일들로 변경해봤다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 253px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 105.13833992094861%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADSUlEQVR42n1UXXOjRhD0T0hFQoAQHwss7CIESPLZOvt05bNTSeUpVXnMU97y/39Bp2eQnbqSLg9TA4PUOz3ds3dhFMFkBnlfInutYXyFoqsQs75erxEzNMcxItZuRRiGyBuD9SbBXRjxJS2QuhzBc4GNrbCpNlgsFlgGSyyXSwRBgNVq9UPAiICbItPD7xQ9z5Buavz9S4m/fi3g+wd8e3vF+fmMlzPj9Q2Hcfhf0FC+hdEFMCN6kuI05DhNBqVz8MMWzjvUVYXa1iiKAlEczRFd8vsYCCR0ZSwKaIxBlhf458/f8MfvL0j2Fs1zj3gTYfETqf+8QLBYYrUMEC5XCIMVn1esBR8zLNryMkO+pGkKESfLUnS+Q1bmKLYUiCECvedybJAziwDFtkI1tWS2Jt0QSZ4iyTb/AUYXVadxhGlJ86FDc+pRHz3azz3KoUH7tNNadWhhHzu0jz3WaYIVO86toTDpNeDQ72AcT//kUd93qMaW2Wt31Z61o0O5J6B84yERXSIdpmR1E7DznpQLmMGSktPO6r2bqe8apWlYk4OEuvwvTmKkJrumnCQJ7o/3qLqGouzgzxPpMn8dtaPmtEP7PGD7ekT7ZUTz1KN7PaD7NsF0tYJ+AIrkEra2yEyO3JUMCtByixxdoJnbxOfUFszl/G5zGjrW7r5T+b3D4+GI0ltYnu6kCw7enUcVp3mcRZHcvRxgT1u054Gblako33X4PkNPU+e10RmaneXsapTM2g29ptahZYyK5NjVWn0oglzbhp4ahwGFLVHdS0dbzm7OAlofOnY7UOVGlVcfcmPE8FldqBevKE/jRMq10lEffqIYFKY6ONZ2Ct488AB6UUIEEuOLba4oiyiubWdRxCa9ne3S17NIcrVdtib3JYqe76wJVY30lij7A8rOqm1UlJOIMyjF9mnQZ+nY0vjCons7cFSxUk7LG6I01mr7eVfq6ZnsLTsSqxRu3mcRSxiIldROjA3nt05/ZBtXf9imZYeeQlRiG86u+Sz1SU1uOc/uZc/f7Hh4eXv1vPNqG91dWTNZN+6uzFFApdvMG1iCSz2UKy2Yd/mmbfbTHqaZLwcxtRqasyqnZj6EUT96vY0MweX6l8shqwql/S9yyE4Dz8Xg8wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/96cba84aecd05df806522f60280c4b88/742b6/vscode-pretendard.webp 253w\"\n              sizes=\"(max-width: 253px) 100vw, 253px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/96cba84aecd05df806522f60280c4b88/09511/vscode-pretendard.png 253w\"\n            sizes=\"(max-width: 253px) 100vw, 253px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/96cba84aecd05df806522f60280c4b88/09511/vscode-pretendard.png\"\n            alt=\"vscode-pretendard\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">vscode-pretendard</figcaption>\n  </figure></p>\n<h2>결론</h2>\n<p>이렇게 진행을 하니, 성능이 개선되었다.</p>\n<p>..? 1점 개선되었는데.. 10점은 이미지 렌더링 문제 부분이라서 그 부분은 조만간 수정해보려 한다. ㅎ_ㅎ</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 579px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 139.453125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAE3UlEQVR42p1V22scVRyepqEiaE2laZLdnTlz5sxl57qXmd1NNjWNbYxtigpJirbaSoVCoWr1oUJF0T6IFkHx8uIFBSn6JuJDHwoq2BcFXwUR/Td8/fzObGabtAjSh4/ZmfPb73y/u7Hmz8Gs1zBXq0EIG7WGBctysG/fPkxMTGBy127snpwsUf6eGL1P8rn9rIIROhKKcByHUPA9hVbkklygYVuoxQqmZcJsNFALHTSUoIA66q5Ane/6u2negiFsCSklLKqLA4mNZQ+nV33kkYOZ1S5mn11EYzmD6DYxe3qI2kYfsumitjnA3DNDiH4EZVGQckpRhibTEEKS0MGpFbdEl7cfINH0ZoHGwRhWy8f0eo6ZtTbsQGHmeBv7n+jC5EWOZUM6I54xocMPpiUwyDMs9tuo102EcYTB6iG4rgvf9bCwuox8gQpNgf7SEEtrK/CUC1vaqHjGhCPYlO5BuT5s24ZL4zgIS1eUUoiCJppBAGHz4l4fqyuP0F6VtmPCUTK2Qd5KkjbQxtVZpWR8Jm3c/v/bFDI5TFLdlCWxvAuMCe2tbGdMxnLPHb/vgEtl2kWietqOO4Zk2Rmjkhll+GmWSz9TOPOoj02WT8MaJasiVHMm1EydzxpUbQ5OfRaqQZgzUGIaUtR1DLWLNo4tuNg45OPs0QBrQ7ck1ZdUdeowlg9e3sADb13A3kvPY++FVzB19gr2nriKqeMfYOrwNfiDcxWhxOEelVHhwa7Ckb6Lc8d9loQO/FYXsfDv++FFeH9+geTX7xDfuAHx1c8w3vwFu174HcapfxAcfX9nDE+u+HjyYUWVHpYLd+zyKMMSs9+fwfpHl3D0xFOQq5dx72uf4Z53r2Pi5Z9gPPc3osfeHhHaW4QmK/7wsIVOGlC1QHXmSO26hfrN87h48w+cfPw83rnyKaIvv8X9n1/HniskvPgXks2rJNRFy+zoMvHYj4P5IdI0hSSBJioVatLS5XVM//Y6pr55CfM/foz91z7Ervc+wZ43voZBldH6qzDa7Q46nQ6yboFOMUCSttHq9tDKe8g6Obq9eYRRxAtY1BEnTyrKvj7gszoCj4MiYG8HkD57mu1pRFGMMIyQ5AsI230kxUPIBktIiyGiVoG4Ow+P7acJHVaD09AQLBXBd3phaZglJFvS8OiObn7Bg8i12KvsZYZB0MCiCpdhcHUh/99Oifhnn7KlVOhwmCZRAJ9DoBxpqY+wGcL3/ZHL2/q96t2q36sBYcRxgjRJ+EGU48ukUj2tyxvFLeOqEmyeaVttI8rfNgLGUCfS9xhDJ/TLoCfNGFmSIssyNJsjhdUUlsy270p+9xDRJmTcs2xk61G9ttFh06PMsJoKQS9De7FAd6GHopsjjuMdM04r04R51sTSsFcO4CLPURR5qU4vt3EMFTNncn/MRdx4jol6rV66cvucs9g1oWszcQ142k4vKmL7vCznoeCGC6koT1mPKbuEden73niQltCx4x5RSYhW0qarRCtDl7bNMqFyGyFdcQcZ4iN9RER8qIDnujtcLt3moHA6IeJjC0gWc6RMZsJkekzEzhXAgNu+gtCjyqdrntypbptKPWBNdou2EawIYdt32BpW6rFL2hgOFjDo97b6907IrSGhWErqP2xGO4UZsrlb7YJIGDth39UuqVz+F0l1QkCXk9AjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/64055a537bca90504c5544ab249730c7/4fae8/light-house-3.webp 256w,\n/static/64055a537bca90504c5544ab249730c7/2bf0f/light-house-3.webp 512w,\n/static/64055a537bca90504c5544ab249730c7/96ba3/light-house-3.webp 579w\"\n              sizes=\"(max-width: 579px) 100vw, 579px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/64055a537bca90504c5544ab249730c7/e3135/light-house-3.png 256w,\n/static/64055a537bca90504c5544ab249730c7/06341/light-house-3.png 512w,\n/static/64055a537bca90504c5544ab249730c7/ff2d6/light-house-3.png 579w\"\n            sizes=\"(max-width: 579px) 100vw, 579px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/64055a537bca90504c5544ab249730c7/ff2d6/light-house-3.png\"\n            alt=\"light-house-3\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">light-house-3</figcaption>\n  </figure></p>\n<p>고작 1점일 수 있겠지만, 확실히 사용자 접근성은 증가되었다는 것에 큰 의의를 두고, 조금이라도 더 나은 페이지가 되었다면 고생한 가치가 있다고 생각한다.</p>\n<p>어제보다 오늘 더 나은 방향으로 발전하는 개발자가 됩시다~~</p>","frontmatter":{"title":"웹 폰트에서 로컬 폰트로 바꿔 적용하기","summary":"URL로 불러왔던 Web Font를 로딩 최적화를 위해 Local Font로 바꾸기 위한 방법을 알아보자.","date":"2024.07.14.","categories":["CSS","WebFont","LocalFont"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC3klEQVR42nVU2XLbMAz0Y+N8QWdiHbZE3ad1OU4c27na//+g7QK0MkqnfdiBSIkLLLDUqnJ/YuN48H2f2OFh84D1/T3W6zV+3K1xR6wXkPXd+v9YCZHreXAcB67rEo7C4d6x8hFWAX5OKTZ9gk0b4+Exhbf14fH9DH/xvArCAHWeo6kb1E2jsSgKVEmC16HC2BSI6tyiymCaHHEcf4OJDJI0gTEGqzAI0GQ52naPpm3RNC1ySRCGqEODhu/j3Q7BdouQURAQhoUEfCckURQhSW6EshmlEbIsRVVWSqaETJCz0qzt0UxPKLuJ8RlV/4hqOKLtBqqpEUdCaJQwZBErf+vhPP7GUD8hyWISZ0oosnN5LpikJnnJVjBmGqmiKLlXIak7RHnNakNLuN356Ksj8pib4U7LNia6RaMfibyQ0CgyZc+E/J7V5QXirPg6o5KFyPUcnfQ8bceZJ+7+Ew4hSTxGSVCyYiXcscElS993Pad8G4rIYeY8Ly0Ki2IJnun6Ae2+036P46TDIeFWp/vx8Qtv7584vZwxHR5xIKYFxvGAfhgx8KDEpu1wub4TV5zOF3x8flpCKznUKemUZRisQGxU05MtkwlEUpqmOjDxnsiOIuvDkL0s8sJKluY2VWmnyo+z1KCkjYrU2mEejmRfIl6u+V7cIeQrmVxbpuxdo9WVCdc5TZ3Zqe6oQPqsoDV0rTH8sopc3zmxSo7jRCVLloSyMt6cJMl0LVJEapryeT+h6A8oOmvuvGpV2Za3aL419qawbNl0PZcXfIa3iDe4t3euhXhSzkmVkvyL0FaQapXSB9ubv+N3iJGlRUmSqo36vreEkmFPL729f+B8fcXz6YW2mOjLgT4b1WsSxSqyP0PsI99fLlccn0545Xkdiu1hrNYYeajrOiZo6UPrt4kHp3G01ilLWqlWN0gh0j+xU0wV3X7/vYfSByvFTkulm6XE272+RZm6vef2Wf+LxuAPLgkxxFXl/YUAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/00289d8d7065bfe78058190a8a7bf017/b4df1/light-house.png","srcSet":"/static/00289d8d7065bfe78058190a8a7bf017/5474c/light-house.png 173w,\n/static/00289d8d7065bfe78058190a8a7bf017/fd5f9/light-house.png 346w,\n/static/00289d8d7065bfe78058190a8a7bf017/b4df1/light-house.png 692w","sizes":"(min-width: 692px) 692px, 100vw"},"sources":[{"srcSet":"/static/00289d8d7065bfe78058190a8a7bf017/de361/light-house.webp 173w,\n/static/00289d8d7065bfe78058190a8a7bf017/ab7cb/light-house.webp 346w,\n/static/00289d8d7065bfe78058190a8a7bf017/51e55/light-house.webp 692w","type":"image/webp","sizes":"(min-width: 692px) 692px, 100vw"}]},"width":692,"height":644}},"publicURL":"/static/00289d8d7065bfe78058190a8a7bf017/light-house.png"}}}}]}},"pageContext":{"slug":"/transform-local-font/"}},"staticQueryHashes":[],"slicesMap":{}}